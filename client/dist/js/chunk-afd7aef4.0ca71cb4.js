(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-afd7aef4"],{"857a":function(t,e,n){var i=n("1d80"),r=/"/g;t.exports=function(t,e,n,a){var s=String(i(t)),o="<"+e;return""!==n&&(o+=" "+n+'="'+String(a).replace(r,"&quot;")+'"'),o+">"+s+"</"+e+">"}},9911:function(t,e,n){"use strict";var i=n("23e7"),r=n("857a"),a=n("af03");i({target:"String",proto:!0,forced:a("link")},{link:function(t){return r(this,"a","href",t)}})},a2f9:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("WingHeader",{attrs:{title:"News"},on:{selectArchive:t.selectArchive,addNew:t.addItem}}),t.showForm?n("CreateTermine",{on:{save:t.saveNew,cancel:t.cancelNew}}):t._e(),t.dataLoaded?t.displayArchive?t._e():n("draggable",{attrs:{group:"termine",handle:".handle"},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.termine,callback:function(e){t.termine=e},expression:"termine"}},t._l(t.termine,(function(e){return n("div",{key:e.tid,staticClass:"list-group-item"},[n("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center handle"},[n("div",[n("font-awesome-icon",{staticClass:"mr-3 text-muted",attrs:{icon:"grip-vertical"}}),t._v(" "+t._s(e.news)+" ")],1),n("div",{staticClass:"d-flex"},[n("div",[n("button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-"+e.tid,expression:"'collapse-' + data.tid"}],staticClass:"btn btn-outline-primary mx-1",attrs:{variant:"primary"}},[n("font-awesome-icon",{attrs:{icon:"edit"}})],1),n("button",{staticClass:"btn btn-outline-warning mx-1",on:{click:function(n){return t.confirmArchive(e)}}},[n("font-awesome-icon",{attrs:{icon:"archive"}})],1),n("button",{staticClass:"btn btn-outline-danger mx-1",on:{click:function(n){return t.confirmDelete(e)}}},[n("font-awesome-icon",{attrs:{icon:"trash"}})],1)])])])])})),0):n("LoadingSpinner")],1)},r=[],a=(n("c740"),n("c975"),n("d81d"),n("a434"),n("9911"),n("f24e")),s=n("310e"),o=n.n(s),c=n("bc3a"),l=n.n(c),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",{staticClass:"pb-2 mb-3 mr-3 border-bottom",attrs:{id:"addTermineForm"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("div",{staticClass:"form-group",class:{"form-group--error":t.$v.title.$error}},[n("label",{attrs:{for:"titleInput"}},[t._v("Titel:")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.title,expression:"title",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"titleInput"},domProps:{value:t.title},on:{input:[function(e){e.target.composing||(t.title=e.target.value.trim())},function(e){return t.updateTitel(e.target.value)}],blur:function(e){return t.$forceUpdate()}}})]),n("div",{staticClass:"form-group",class:{"form-group--error":t.$v.link.$error}},[n("label",{attrs:{for:"linkInput"}},[t._v("Link:")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.link,expression:"link",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"linkInput"},domProps:{value:t.link},on:{input:[function(e){e.target.composing||(t.link=e.target.value.trim())},function(e){return t.updateLink(e.target.value)}],blur:function(e){return t.$forceUpdate()}}})]),n("div",{staticClass:"form-group",class:{"form-group--error":t.$v.linktext.$error}},[n("label",{attrs:{for:"descriptionInput"}},[t._v("Linktext:")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.linkText,expression:"linkText",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"descriptionInput"},domProps:{value:t.linkText},on:{input:[function(e){e.target.composing||(t.linkText=e.target.value.trim())},function(e){return t.updateLinktext(e.target.value)}],blur:function(e){return t.$forceUpdate()}}})]),n("div",{staticClass:"form-group",class:{"form-group--error":t.$v.place.$error}},[n("label",{attrs:{for:"placeInput"}},[t._v("Bild:")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.img,expression:"img",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"image",id:"placeInput"},domProps:{value:t.img},on:{input:[function(e){e.target.composing||(t.img=e.target.value.trim())},function(e){return t.updateImg(e.target.value)}],blur:function(e){return t.$forceUpdate()}}})]),n("div",{staticClass:"form-group",class:{"form-group--error":t.$v.contact.$error}},[n("label",{attrs:{for:"textInput"}},[t._v("Text:")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.text,expression:"text",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"textInput"},domProps:{value:t.text},on:{input:[function(e){e.target.composing||(t.text=e.target.value.trim())},function(e){return t.updateText(e.target.value)}],blur:function(e){return t.$forceUpdate()}}})]),n("div",{staticClass:"d-flex flex-row-reverse"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:"PENDING"===t.submitStatus}},[t._v("Speichern")]),n("button",{staticClass:"btn btn-outline-primary mx-2",on:{click:function(e){return t.$emit("cancel")}}},[t._v("Abbrechen")]),"ERROR"===t.submitStatus?n("p",{staticClass:"typo__p"},[t._v("Fill Form correctly")]):t._e(),"PENDING"===t.submitStatus?n("p",{staticClass:"typo__p"},[t._v("Sendet...")]):t._e()])])])},d=[],m={name:"CreateNews",data:function(){return{title:"",link:"",linkText:"",img:"",text:"",submitStatus:null}},methods:{submit:function(){var t=this;if(this.$v.$touch(),this.$v.$invalid||this.$v.minLength||this.$v.maxLength)this.submitStatus="ERROR";else{var e={title:this.title,link:this.link,linkText:this.linkText,img:this.img,text:this.text};this.$emit("save",e),this.submitStatus="PENDING",setTimeout((function(){t.submitStatus="OK"}),500)}},updateTitel:function(t){this.title=t,this.$v.title.$touch()},updateLinktext:function(t){this.linkText=t,this.$v.linkText.$touch()},updateLink:function(t){this.link=t,this.$v.link.$touch()},updateImg:function(t){this.img=t,this.$v.img.$touch()},updateText:function(t){this.text=t,this.$v.text.$touch()}}},h=m,v=n("2877"),f=Object(v["a"])(h,u,d,!1,null,null,null),p=f.exports,g=n("d76c"),w={name:"News",components:{WingHeader:a["a"],CreateNews:p,LoadingSpinner:g["a"],draggable:o.a},data:function(){return{news:[],archive:[],displayArchive:!1,showForm:!1,selectedItem:{},nIndex:0,dataLoaded:!1}},computed:{dataToShow:function(){return!0===this.displayArchive?this.archive:this.news}},methods:{addItem:function(){this.showForm=!0},saveNew:function(t){t.nId=this.nIndex,this.nIndex++,this.news.unshift(t),this.displayArchive=!1,this.showForm=!1,this.selectedItem={},this.saveToBackend()},cancelNew:function(){this.showForm=!1},updateItem:function(t){var e=this.news.findIndex((function(e){return e.nId===t.nId}));this.news[e].title=t.title,this.news[e].link=t.link,this.news[e].img=t.img,this.text[e].img=t.text,this.saveToBackend()},selectArchive:function(t){this.displayArchive=t},saveToBackend:function(){var t=this;l.a.post("http://localhost:5000/api/news",{news:this.news}).then((function(e){t.news=e.data.news}))},saveArchiveToBackend:function(){var t=this;l.a.post("http://localhost:5000/api/news/archive",{news:this.news}).then((function(e){t.news=e.data.news}))},confirmDelete:function(t){var e=this;this.$bvModal.msgBoxConfirm("Ausgewähltes Element unwiderruflich löschen?",{title:"Löschen bestätigen",okVariant:"danger",cancelTitle:"Abbrechen",hideHeaderClose:!0,centered:!0}).then((function(n){n&&(e.displayArchive?(e.archive.splice(e.archive.indexOf(t),1),e.saveArchiveToBackend()):(e.news.splice(e.news.indexOf(t),1),e.saveToBackend()))})).catch((function(t){console.log(t)}))},restoreFromArchive:function(t){var e=this;this.$bvModal.msgBoxConfirm("Ausgewähltes Element wiederherstellen?",{title:"Wiederherstellung bestätigen",okVariant:"warning",cancelTitle:"Abbrechen",hideHeaderClose:!0,centered:!0}).then((function(n){n&&(e.archive.splice(e.archive.indexOf(t),1),e.news.unshift(t),e.saveToBackend(),e.saveArchiveToBackend())})).catch((function(t){console.log(t)}))},confirmArchive:function(t){var e=this;this.$bvModal.msgBoxConfirm("Ausgewähltes Element archivieren?",{title:"Archivieren bestätigen",okVariant:"warning",cancelTitle:"Abbrechen",hideHeaderClose:!0,centered:!0}).then((function(n){n&&(e.news.splice(e.news.indexOf(t),1),e.archive.unshift(t),e.saveToBackend(),e.saveArchiveToBackend())})).catch((function(t){console.log(t)}))}},mounted:function(){var t=this;l.a.get("http://localhost:5000/api/news").then((function(e){return t.news=e.data.news.map((function(e){return e.nId=t.nIndex,t.nIndex++,e})),t.dataLoaded=!0})),l.a.get("http://localhost:5000/api/news/archive").then((function(e){return t.archive=e.data.news.map((function(e){return e.nId=t.nIndex,t.nIndex++,e}))}))}},x=w,b=Object(v["a"])(x,i,r,!1,null,null,null);e["default"]=b.exports},af03:function(t,e,n){var i=n("d039");t.exports=function(t){return i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}}}]);
//# sourceMappingURL=chunk-afd7aef4.0ca71cb4.js.map